(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{348:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify-phone",function(){return r(7024)}])},3712:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(9320),s=r(9917),o=r(2964);class i{static convertUser(e){return{uid:e.uid,email:e.email,displayName:e.displayName,phoneNumber:e.phoneNumber}}static async signUp(e){try{let t=(await (0,s.eJ)(a.j2,e.email,e.password)).user;return await (0,s.r7)(t,{displayName:e.fullName}),await (0,o.BN)((0,o.H9)(a.db,"users",t.uid),{fullName:e.fullName||"",phone:e.phone||"",email:t.email}),this.convertUser(t)}catch(e){throw Error(e.message||"Failed to create account")}}static async signIn(e){try{let t=await (0,s.x9)(a.j2,e.email,e.password);return this.convertUser(t.user)}catch(e){throw Error(e.message||"Failed to sign in")}}static async signOut(){try{await (0,s.CI)(a.j2)}catch(e){throw Error("Failed to sign out")}}static getCurrentUser(){return new Promise(e=>{let t=(0,s.hg)(a.j2,r=>{t(),e(r?this.convertUser(r):null)})})}static async sendPasswordResetEmail(e){try{await (0,s.J1)(a.j2,e)}catch(e){throw Error("Failed to send password reset email")}}static async updatePassword(e){if(!a.j2.currentUser)throw Error("No user is signed in.");try{await (0,s.f3)(a.j2.currentUser,e)}catch(e){throw Error("Failed to update password")}}static async updateProfile(e){if(!a.j2.currentUser)throw Error("No user is signed in.");try{e.displayName&&await (0,s.r7)(a.j2.currentUser,{displayName:e.displayName});let t=(0,o.H9)(a.db,"users",a.j2.currentUser.uid);return await (0,o.mZ)(t,{...e.phone&&{phone:e.phone},...e.displayName&&{fullName:e.displayName}}),this.convertUser(a.j2.currentUser)}catch(e){throw Error("Failed to update profile")}}static onAuthStateChange(e){return(0,s.hg)(a.j2,t=>{e(t?this.convertUser(t):null)})}}let l=i},7024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(7876),s=r(4232),o=r(7069),i=r(8230),l=r.n(i),n=r(5098);let d=()=>{let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),{user:u}=(0,o.A)(),{showInfo:h}=(0,n.Y)(),m=async t=>{t.preventDefault(),i(""),c(!0);try{if(!u)throw Error("No user found");if(6!==e.length)throw Error("Please enter a 6-digit verification code");console.log("Phone verification simulated for code:",e)}catch(e){i(e.message)}finally{c(!1)}},p=async()=>{try{h("Code Resent","Verification code has been resent to your phone.")}catch(e){i(e.message)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:[...Array(20)].map((e,t)=>(0,a.jsx)("div",{className:"absolute rounded-full bg-blue-500/10 dark:bg-blue-400/5 animate-float",style:{width:"".concat(300*Math.random()+50,"px"),height:"".concat(300*Math.random()+50,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDuration:"".concat(20*Math.random()+15,"s"),animationDelay:"".concat(5*Math.random(),"s"),opacity:.5*Math.random()}},t))}),(0,a.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(l(),{href:"/",className:"inline-block",children:(0,a.jsx)("img",{src:"/AGENT_Logo.png",alt:"AIJobSearchAgent",className:"h-20 w-auto mx-auto mb-6"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"Verify Your Phone"}),(0,a.jsx)("p",{className:"text-blue-100",children:"Enter the verification code sent to your phone"})]}),(0,a.jsx)("div",{className:"backdrop-blur-lg bg-white/20 dark:bg-gray-900/40 rounded-2xl shadow-xl border border-white/30 dark:border-gray-700/50 p-8 transition-all duration-300",children:(0,a.jsxs)("form",{className:"space-y-6",onSubmit:m,children:[r&&(0,a.jsx)("div",{className:"bg-red-500/20 dark:bg-red-900/30 backdrop-blur-sm text-red-100 dark:text-red-200 p-4 rounded-xl text-sm border border-red-500/30 dark:border-red-700/50",children:r}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-white dark:text-blue-100",children:"Verification Code"}),(0,a.jsx)("input",{id:"code",type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full px-4 py-3 bg-white/10 dark:bg-gray-800/30 border border-white/20 dark:border-gray-600/30 rounded-xl backdrop-blur-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 dark:focus:ring-blue-500 focus:border-transparent text-white dark:text-blue-50 placeholder-blue-200/70 dark:placeholder-blue-300/50 text-center text-lg tracking-widest transition-colors duration-300",placeholder:"Enter 6-digit code",maxLength:6}),(0,a.jsx)("p",{className:"mt-1 text-sm text-blue-200/80 dark:text-blue-200/60 text-center",children:"For demo purposes, enter any 6-digit code (e.g., 123456)"})]}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-lg text-sm font-medium text-white bg-gradient-to-r from-blue-600/90 to-purple-600/90 hover:from-blue-600 hover:to-purple-600 dark:from-blue-700/90 dark:to-purple-700/90 dark:hover:from-blue-700 dark:hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 backdrop-blur-sm transition-all hover:shadow-blue-500/20 hover:shadow-xl",children:d?"Verifying...":"Verify Phone Number"}),(0,a.jsx)("button",{type:"button",onClick:p,className:"w-full text-center text-sm text-blue-200 dark:text-blue-300 hover:text-white dark:hover:text-white transition-colors mt-4",children:"Resend verification code"}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(l(),{href:"/login",className:"text-blue-200 dark:text-blue-300 hover:text-white dark:hover:text-white transition-colors",children:"Back to sign in"})})]})})]})]})},c=()=>(0,a.jsx)(d,{})},7069:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(4232),s=r(3712),o=r(9320),i=r(2964);class l{static async getOrCreateProfile(e,t,r){let a=(0,i.H9)(o.db,"users",e),s=await (0,i.x7)(a);if(s.exists())return{...s.data(),id:e};{let s={id:e,email:t,full_name:r,created_at:new Date().toISOString()};return await (0,i.BN)(a,s),s}}}let n=()=>{let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let e=await s.A.getCurrentUser();if(t(e),e)try{let t=await l.getOrCreateProfile(e.uid,e.email||"",e.displayName||"");o(t)}catch(e){console.error("Failed to get or create user profile:",e)}else o(null)}catch(e){console.error("Failed to initialize auth:",e)}finally{n(!1)}})();let e=s.A.onAuthStateChange(async e=>{if(t(e),e)try{let t=await l.getOrCreateProfile(e.uid,e.email||"",e.displayName||"");o(t)}catch(e){console.error("Failed to update user profile on auth change:",e)}else o(null);n(!1)});return()=>{e()}},[]),(0,a.useMemo)(()=>({user:e,userProfile:r,loading:i,isAuthenticated:!!e}),[e,r,i])}},9320:(e,t,r)=>{"use strict";r.d(t,{db:()=>d,j2:()=>n});var a=r(6042),s=r(9917),o=r(2964),i=r(1972);let l=(0,a.Wp)({apiKey:"AIzaSyDBdAWFGw0acg3IBSh9NZPp_m6WiyaW_qA",authDomain:"myjobsearchagent.firebaseapp.com",projectId:"myjobsearchagent",storageBucket:"myjobsearchagent.appspot.com",messagingSenderId:"948357728656",appId:"1:948357728656:web:5c1f7ef5658d7efcd0cb15",measurementId:"G-3V87TEMNEV"}),n=(0,s.xI)(l),d=(0,o.aU)(l);(0,i.P5)(l)}},e=>{e.O(0,[671,166,274,849,636,593,792],()=>e(e.s=348)),_N_E=e.O()}]);